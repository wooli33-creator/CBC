<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¸°í›„ ìœ„ê¸° ë¹™ê³  ì±Œë¦°ì§€</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Gamja+Flower&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Jua', sans-serif;
            background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 50%, #80deea 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            font-family: 'Gamja Flower', cursive;
            font-size: 2.5rem;
            text-align: center;
            color: #006064;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            text-align: center;
            color: #00838f;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }

        .tab-button {
            padding: 12px 30px;
            border: 2px solid #00838f;
            background: white;
            color: #00838f;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Jua', sans-serif;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .tab-button:hover {
            background: #e0f7fa;
            transform: scale(1.05);
        }

        .tab-button.active {
            background: #00838f;
            color: white;
        }

        .level-info {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .level-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .level-badge {
            background: #4caf50;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
        }

        .progress-badge {
            background: #ff9800;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
        }

        .level-indicators {
            display: flex;
            gap: 5px;
        }

        .level-indicator {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-center;
            font-weight: bold;
            border: 2px solid;
        }

        .level-indicator.complete {
            background: #00838f;
            color: white;
            border-color: #00838f;
        }

        .level-indicator.current {
            background: #ffa726;
            color: white;
            border-color: #ffa726;
            animation: pulse 2s infinite;
        }

        .level-indicator.pending {
            background: #f5f5f5;
            color: #9e9e9e;
            border-color: #e0e0e0;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .victory-banner {
            background: linear-gradient(90deg, #00838f 0%, #ffa726 50%, #00838f 100%);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

        .victory-banner h2 {
            color: white;
            text-align: center;
            font-size: 2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .grid-container {
            background: rgba(255,255,255,0.9);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
            margin-bottom: 20px;
        }

        .bingo-grid {
            display: grid;
            gap: 10px;
            margin-bottom: 20px;
        }

        .grid-size-3 { grid-template-columns: repeat(3, 1fr); }
        .grid-size-4 { grid-template-columns: repeat(4, 1fr); }
        .grid-size-5 { grid-template-columns: repeat(5, 1fr); }
        .grid-size-6 { grid-template-columns: repeat(6, 1fr); }
        .grid-size-7 { grid-template-columns: repeat(7, 1fr); }

        .tile {
            aspect-ratio: 1;
            border: 3px solid #b0bec5;
            background: white;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-center;
            text-align: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            padding: 10px;
            position: relative;
        }

        .tile:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            background: #e0f7fa;
        }

        .tile.selected {
            background: #00838f;
            color: white;
            border-color: #00838f;
        }

        .tile.winning {
            background: linear-gradient(135deg, #00838f 0%, #ffa726 50%, #00838f 100%);
            color: white;
            border-color: #ffa726;
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .checkmark {
            position: absolute;
            font-size: 2rem;
            color: white;
            font-weight: bold;
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-family: 'Jua', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0,0,0,0.15);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.25);
        }

        .btn-primary {
            background: #00838f;
            color: white;
        }

        .btn-secondary {
            background: #9e9e9e;
            color: white;
        }

        .btn-success {
            background: #4caf50;
            color: white;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #757575;
            background: none;
            border: none;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            color: #000;
        }

        .modal-title {
            color: #4caf50;
            font-size: 1.8rem;
            margin-bottom: 15px;
            padding-right: 30px;
        }

        .modal-description {
            color: #424242;
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .solo-controls {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .grid-selector {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .grid-option {
            padding: 10px 20px;
            border: 2px solid #00838f;
            background: white;
            color: #00838f;
            border-radius: 15px;
            cursor: pointer;
            font-family: 'Jua', sans-serif;
            transition: all 0.3s;
        }

        .grid-option:hover {
            background: #e0f7fa;
        }

        .grid-option.active {
            background: #00838f;
            color: white;
        }

        .turn-info {
            text-align: center;
            font-size: 1.2rem;
            color: #006064;
            margin-bottom: 15px;
        }

        .boards-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .board-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .board-title {
            text-align: center;
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #006064;
        }

        .player-board .board-title {
            color: #00838f;
        }

        .computer-board .board-title {
            color: #d32f2f;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            .tabs {
                flex-direction: column;
                align-items: center;
            }

            .tab-button {
                width: 200px;
            }

            .boards-container {
                grid-template-columns: 1fr;
            }

            .tile {
                font-size: 0.85rem;
                padding: 5px;
            }

            .level-indicator {
                width: 35px;
                height: 35px;
                font-size: 0.9rem;
            }

            .modal-title {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .bingo-grid {
                gap: 5px;
            }

            .tile {
                font-size: 0.7rem;
                border-width: 2px;
                border-radius: 10px;
            }

            .checkmark {
                font-size: 1.2rem;
            }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ê¸°í›„ ìœ„ê¸° ë¹™ê³  ì±Œë¦°ì§€</h1>
        <p class="subtitle">3Ã—3ë¶€í„° 7Ã—7ê¹Œì§€ ëª¨ë“  ë¹™ê³ ë¥¼ ì™„ì„±í•˜ë©° ìêµ¬ ì§€í‚´ì´ê°€ ë˜ì–´ë³´ì„¸ìš”!</p>

        <div class="tabs">
            <button class="tab-button active" data-mode="group">ëª¨ë‘  ëª¨ë“œ</button>
            <button class="tab-button" data-mode="solo">í˜¼ìí•˜ê¸°</button>
        </div>

        <!-- ëª¨ë‘  ëª¨ë“œ -->
        <div id="group-mode">
            <div class="level-info">
                <div class="level-header">
                    <div>
                        <span class="level-badge" id="group-level-badge">ì—°ìŠµ ë‹¨ê³„</span>
                        <span class="subtitle" style="margin: 0 0 0 10px;">ì—°ìŠµ ë‹¨ê³„ë¡œ ì‹œì‘í•©ë‹ˆë‹¤</span>
                    </div>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <span class="progress-badge" id="group-progress">ì§„í–‰ë„: 0 / 3</span>
                    </div>
                </div>
                <div class="level-indicators" id="group-level-indicators" style="margin-top: 15px; justify-content: center;">
                    <!-- ë ˆë²¨ ì¸ë””ì¼€ì´í„° -->
                </div>
            </div>

            <div id="group-victory" class="victory-banner hidden">
                <h2>ë¹™ê³  ì™„ì„±!</h2>
            </div>

            <div class="grid-container">
                <div class="bingo-grid grid-size-3" id="group-grid">
                    <!-- íƒ€ì¼ë“¤ì´ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" id="group-reset">ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘</button>
                </div>
            </div>
        </div>

        <!-- í˜¼ìí•˜ê¸° ëª¨ë“œ -->
        <div id="solo-mode" class="hidden">
            <div class="solo-controls">
                <p style="text-align: center; margin-bottom: 15px; font-size: 1.1rem; color: #006064;">ê·¸ë¦¬ë“œ í¬ê¸° ì„ íƒ:</p>
                <div class="grid-selector">
                    <button class="grid-option" data-size="3">3Ã—3</button>
                    <button class="grid-option" data-size="4">4Ã—4</button>
                    <button class="grid-option active" data-size="5">5Ã—5</button>
                    <button class="grid-option" data-size="6">6Ã—6</button>
                    <button class="grid-option" data-size="7">7Ã—7</button>
                </div>
                <div class="turn-info" id="solo-turn">ê²Œì„ ì‹œì‘ ì „</div>
                <div class="button-group">
                    <button class="btn btn-success" id="solo-draw">ë‹¨ì–´ ì¶”ì²¨</button>
                    <button class="btn btn-secondary" id="solo-reset">ìƒˆ ê²Œì„</button>
                </div>
            </div>

            <div class="boards-container">
                <div class="board-section player-board">
                    <h3 class="board-title">í”Œë ˆì´ì–´ ë³´ë“œ</h3>
                    <div class="bingo-grid grid-size-5" id="player-grid">
                        <!-- í”Œë ˆì´ì–´ íƒ€ì¼ -->
                    </div>
                    <p style="text-align: center; margin-top: 10px; font-weight: bold; color: #00838f;" id="player-progress">ì¤„: 0 / 3</p>
                </div>

                <div class="board-section computer-board">
                    <h3 class="board-title">ì»´í“¨í„° ë³´ë“œ</h3>
                    <div class="bingo-grid grid-size-5" id="computer-grid">
                        <!-- ì»´í“¨í„° íƒ€ì¼ -->
                    </div>
                    <p style="text-align: center; margin-top: 10px; font-weight: bold; color: #d32f2f;" id="computer-progress">ì¤„: 0 / 3</p>
                </div>
            </div>
        </div>
    </div>

    <!-- í‚¤ì›Œë“œ ëª¨ë‹¬ -->
    <div class="modal" id="keyword-modal">
        <div class="modal-content">
            <button class="modal-close" id="keyword-modal-close">Ã—</button>
            <h2 class="modal-title" id="keyword-title">í‚¤ì›Œë“œ</h2>
            <p class="modal-description" id="keyword-description">ì„¤ëª…</p>
            <div class="button-group" style="margin-top: 20px;">
                <button class="btn btn-primary" id="keyword-ok">ì•Œê² ì–´ìš”!</button>
            </div>
        </div>
    </div>

    <!-- ë ˆë²¨ì—…/ê²°ê³¼ ëª¨ë‹¬ -->
    <div class="modal" id="result-modal">
        <div class="modal-content">
            <button class="modal-close" id="result-modal-close">Ã—</button>
            <h2 class="modal-title" id="result-title">ê²°ê³¼</h2>
            <p class="modal-description" id="result-description">ë‚´ìš©</p>
            <div class="button-group" style="margin-top: 20px;">
                <button class="btn btn-success" id="result-ok">í™•ì¸</button>
            </div>
        </div>
    </div>

    <script>
        // ============================================================
        // ë°ì´í„° ì •ì˜
        // ============================================================
        
        const REQUIRED_LINES = 3;

        const PRACTICE_KEYWORDS = [
            { keyword: 'ì†ìˆ˜ê±´ ì‚¬ìš©', description: 'í™”ì¥ì§€ ëŒ€ì‹  ì†ìˆ˜ê±´ì„ ì‚¬ìš©í•˜ë©´ ë‚˜ë¬´ë¥¼ ë³´í˜¸í•˜ê³  ì“°ë ˆê¸°ë¥¼ ì¤„ì¼ ìˆ˜ ìˆì–´ìš”.' },
            { keyword: 'ê±·ê¸°ìš´ë™', description: 'ì§§ì€ ê±°ë¦¬ëŠ” ì°¨ ëŒ€ì‹  ê±¸ì–´ì„œ ì´ë™í•˜ë©´ ê±´ê°•ë„ ì§€í‚¤ê³  íƒ„ì†Œ ë°°ì¶œë„ ì¤„ì¼ ìˆ˜ ìˆì–´ìš”.' },
            { keyword: 'ì¤‘ê³  ê±°ë˜', description: 'í•„ìš” ì—†ëŠ” ë¬¼ê±´ì„ ë‚˜ëˆ„ê³ , ì¤‘ê³  ì œí’ˆì„ í™œìš©í•˜ë©´ ìì› ë‚­ë¹„ë¥¼ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
            { keyword: 'ë„ë‹´ë„ë‹´ ì •ì›', description: 'ì‘ì€ í…ƒë°­ì´ë‚˜ ì •ì›ì„ ê°€ê¾¸ë©° ìì—°ê³¼ í•¨ê»˜ í•˜ëŠ” ì‹¤ì²œì…ë‹ˆë‹¤. ì§ì ‘ í‚¤ìš´ ì±„ì†Œë¥¼ ë¨¹ìœ¼ë©´ íƒ„ì†Œ ë°œìêµ­ì„ ì¤„ì¼ ìˆ˜ ìˆì–´ìš”.' },
            { keyword: 'ê¸°í›„ë¯¸ì‹', description: 'ì§€ì—­ì—ì„œ ìƒì‚°ëœ ì œì²  ì‹ì¬ë£Œë¥¼ í™œìš©í•œ ìš”ë¦¬ë¡œ, ìš´ì†¡ ê³¼ì •ì˜ íƒ„ì†Œ ë°°ì¶œì„ ìµœì†Œí™”í•˜ëŠ” ì‹ë¬¸í™”ì…ë‹ˆë‹¤.' },
            { keyword: 'ë¬¼ë³‘ ì±™ê¸°ê¸°', description: 'ê°œì¸ ë¬¼ë³‘ì„ í•­ìƒ ê°€ì§€ê³  ë‹¤ë‹ˆë©´ ì¼íšŒìš© í”Œë¼ìŠ¤í‹± ì»µ ì‚¬ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
            { keyword: 'ì¥ë°”êµ¬ë‹ˆ', description: 'ë§ˆíŠ¸ë‚˜ ì‹œì¥ ê°ˆ ë•Œ ì¥ë°”êµ¬ë‹ˆë¥¼ ì±™ê¸°ë©´ ë¹„ë‹ë´‰ì§€ ì‚¬ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆì–´ìš”.' },
            { keyword: 'ì ˆì „ ìŠµê´€', description: 'ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì „ê¸° ì œí’ˆì˜ í”ŒëŸ¬ê·¸ë¥¼ ë½‘ê³ , ë¶ˆí•„ìš”í•œ ì¡°ëª…ì„ ë„ëŠ” ìŠµê´€ì…ë‹ˆë‹¤.' },
            { keyword: 'ê³„ë‹¨ ì´ìš©', description: 'ì—˜ë¦¬ë² ì´í„° ëŒ€ì‹  ê³„ë‹¨ì„ ì´ìš©í•˜ë©´ ì „ê¸°ë„ ì•„ë¼ê³  ê±´ê°•ë„ ì±™ê¸¸ ìˆ˜ ìˆì–´ìš”.' }
        ];

        const CLIMATE_KEYWORDS = [
            { keyword: 'íƒ„ì†Œì¤‘ë¦½', description: 'ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œëŸ‰ì„ ìµœëŒ€í•œ ì¤„ì´ê³ , ë‚¨ì€ ë°°ì¶œëŸ‰ì€ í¡ìˆ˜í•˜ì—¬ ì‹¤ì§ˆì ì¸ ë°°ì¶œëŸ‰ì„ 0ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤.' },
            { keyword: 'ì¬í™œìš©', description: 'ì‚¬ìš©í•œ ë¬¼ê±´ì„ ë‹¤ì‹œ í™œìš©í•˜ì—¬ ì“°ë ˆê¸°ë¥¼ ì¤„ì´ê³  ìì›ì„ ì•„ë¼ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.' },
            { keyword: 'íƒœì–‘ì—ë„ˆì§€', description: 'íƒœì–‘ì˜ ë¹›ê³¼ ì—´ì„ ì´ìš©í•´ ì „ê¸°ë¥¼ ë§Œë“œëŠ” ê¹¨ë—í•œ ì—ë„ˆì§€ì…ë‹ˆë‹¤. í™”ì„ì—°ë£Œì™€ ë‹¬ë¦¬ ì˜¤ì—¼ë¬¼ì§ˆì´ ë‚˜ì˜¤ì§€ ì•ŠìŠµë‹ˆë‹¤.' },
            { keyword: 'ë¯¸ì„¸ë¨¼ì§€', description: 'ëŒ€ê¸° ì¤‘ì— ë– ë‹¤ë‹ˆëŠ” ì•„ì£¼ ì‘ì€ ë¨¼ì§€ë¡œ, ê±´ê°•ì— í•´ë¡­ê³  ê¸°í›„ ë³€í™”ì—ë„ ì˜í–¥ì„ ì¤ë‹ˆë‹¤.' },
            { keyword: 'í•´ìˆ˜ë©´ ìƒìŠ¹', description: 'ì§€êµ¬ ì˜¨ë‚œí™”ë¡œ ë¹™í•˜ê°€ ë…¹ìœ¼ë©´ì„œ ë°”ë‹¤ì˜ ë†’ì´ê°€ ì ì  ë†’ì•„ì§€ëŠ” í˜„ìƒì…ë‹ˆë‹¤.' },
            { keyword: 'ì‹ë¬¼ì„± ì‹ë‹¨', description: 'ê³ ê¸° ëŒ€ì‹  ì±„ì†Œ, ê³¼ì¼, ê³¡ë¬¼ ìœ„ì£¼ë¡œ ë¨¹ëŠ” ì‹ìŠµê´€ìœ¼ë¡œ ì˜¨ì‹¤ê°€ìŠ¤ ë°°ì¶œì„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
            { keyword: 'ì˜¨ì‹¤ê°€ìŠ¤', description: 'ì´ì‚°í™”íƒ„ì†Œ ê°™ì€ ê°€ìŠ¤ë“¤ì´ ì§€êµ¬ë¥¼ ë”°ëœ»í•˜ê²Œ ë§Œë“¤ì–´ ê¸°í›„ ë³€í™”ë¥¼ ì¼ìœ¼í‚µë‹ˆë‹¤.' },
            { keyword: 'ì „ê¸°ì°¨', description: 'ì„ìœ  ëŒ€ì‹  ì „ê¸°ë¡œ ì›€ì§ì´ëŠ” ìë™ì°¨ì…ë‹ˆë‹¤. ë°°ê¸°ê°€ìŠ¤ê°€ ì—†ì–´ì„œ ê³µê¸°ë¥¼ ê¹¨ë—í•˜ê²Œ í•©ë‹ˆë‹¤.' },
            { keyword: 'ë¶„ë¦¬ìˆ˜ê±°', description: 'ì¢…ì´, í”Œë¼ìŠ¤í‹±, ìœ ë¦¬ ë“±ì„ ë”°ë¡œ ëª¨ì•„ì„œ ì¬í™œìš©í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.' },
            { keyword: 'ì¼íšŒìš©í’ˆ ì¤„ì´ê¸°', description: 'í•œ ë²ˆë§Œ ì“°ê³  ë²„ë¦¬ëŠ” ë¬¼ê±´ ì‚¬ìš©ì„ ì¤„ì´ë©´ ì“°ë ˆê¸°ì™€ ìì› ë‚­ë¹„ë¥¼ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
            { keyword: 'ì§€êµ¬ì˜¨ë‚œí™”', description: 'ì§€êµ¬ì˜ í‰ê·  ê¸°ì˜¨ì´ ì ì  ë†’ì•„ì§€ëŠ” í˜„ìƒìœ¼ë¡œ, ë§ì€ í™˜ê²½ ë¬¸ì œë¥¼ ì¼ìœ¼í‚µë‹ˆë‹¤.' },
            { keyword: 'í’ë ¥ë°œì „', description: 'ë°”ëŒì˜ í˜ìœ¼ë¡œ í„°ë¹ˆì„ ëŒë ¤ ì „ê¸°ë¥¼ ë§Œë“œëŠ” ì¹œí™˜ê²½ ë°œì „ ë°©ì‹ì…ë‹ˆë‹¤.' },
            { keyword: 'ìƒë¬¼ë‹¤ì–‘ì„±', description: 'ë‹¤ì–‘í•œ ìƒë¬¼ë“¤ì´ í•¨ê»˜ ì‚¬ëŠ” ê²ƒìœ¼ë¡œ, ê¸°í›„ ë³€í™”ë¡œ ë§ì€ ìƒë¬¼ì´ ì‚¬ë¼ì§€ê³  ìˆìŠµë‹ˆë‹¤.' },
            { keyword: 'í”Œë¼ìŠ¤í‹± ì˜¤ì—¼', description: 'í”Œë¼ìŠ¤í‹±ì€ ìì—°ì—ì„œ ì˜ ë¶„í•´ë˜ì§€ ì•Šì•„ í™˜ê²½ì„ ì˜¤ì—¼ì‹œí‚µë‹ˆë‹¤. ë°”ë‹¤ ìƒë¬¼ë“¤ì—ê²Œ íŠ¹íˆ ìœ„í—˜í•©ë‹ˆë‹¤.' },
            { keyword: 'ì—ë„ˆì§€ ì ˆì•½', description: 'í•„ìš”ì—†ëŠ” ì „ê¸°ë¥¼ ë„ê³ , ì—ë„ˆì§€ íš¨ìœ¨ì´ ë†’ì€ ì œí’ˆì„ ì‚¬ìš©í•˜ëŠ” ë“± ì—ë„ˆì§€ë¥¼ ì•„ë¼ëŠ” í–‰ë™ì…ë‹ˆë‹¤.' },
            { keyword: 'ìˆ² ë³´í˜¸', description: 'ë‚˜ë¬´ë“¤ì€ ì´ì‚°í™”íƒ„ì†Œë¥¼ í¡ìˆ˜í•´ì„œ ê³µê¸°ë¥¼ ê¹¨ë—í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤. ìˆ²ì„ ì§€í‚¤ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.' },
            { keyword: 'ëŒ€ì¤‘êµí†µ', description: 'ë²„ìŠ¤, ì§€í•˜ì²  ê°™ì€ êµí†µìˆ˜ë‹¨ì„ ì´ìš©í•˜ë©´ ìë™ì°¨ë³´ë‹¤ í™˜ê²½ ì˜¤ì—¼ì´ ì ìŠµë‹ˆë‹¤.' },
            { keyword: 'ë¬¼ ì ˆì•½', description: 'ë¬¼ì€ ì†Œì¤‘í•œ ìì›ì…ë‹ˆë‹¤. ì–‘ì¹˜í•  ë•Œ ì»µì„ ì‚¬ìš©í•˜ê³ , ìƒ¤ì›Œ ì‹œê°„ì„ ì¤„ì´ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.' },
            { keyword: 'ì¹œí™˜ê²½ ì œí’ˆ', description: 'ë§Œë“¤ ë•Œë¶€í„° í™˜ê²½ì„ ìƒê°í•´ì„œ ë§Œë“  ì œí’ˆë“¤ì…ë‹ˆë‹¤. ì¬í™œìš© ì†Œì¬ë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•©ë‹ˆë‹¤.' },
            { keyword: 'ì¬ìƒì—ë„ˆì§€', description: 'íƒœì–‘ê´‘, í’ë ¥, ìˆ˜ë ¥ ë“± ê³ ê°ˆë˜ì§€ ì•Šê³  ì¬ìƒ ê°€ëŠ¥í•œ ì—ë„ˆì§€ì›ì…ë‹ˆë‹¤.' },
            { keyword: 'ìƒíƒœê³„', description: 'ìƒë¬¼ë“¤ê³¼ í™˜ê²½ì´ ì„œë¡œ ì˜í–¥ì„ ì£¼ê³ ë°›ìœ¼ë©° ì‚´ì•„ê°€ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ê· í˜•ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.' },
            { keyword: 'ê¸°í›„í–‰ë™', description: 'ê¸°í›„ ìœ„ê¸°ë¥¼ ë§‰ê¸° ìœ„í•´ ìš°ë¦¬ê°€ í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ì‹¤ì²œ í™œë™ì„ ë§í•©ë‹ˆë‹¤.' },
            { keyword: 'ì§€ì†ê°€ëŠ¥ì„±', description: 'ë¯¸ë˜ ì„¸ëŒ€ë„ ì¢‹ì€ í™˜ê²½ì—ì„œ ì‚´ ìˆ˜ ìˆë„ë¡ ìì›ì„ ì•„ê»´ ì“°ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.' },
            { keyword: 'ìˆœí™˜ê²½ì œ', description: 'ìì›ì„ ì¬ì‚¬ìš©í•˜ê³  ì¬í™œìš©í•˜ì—¬ íê¸°ë¬¼ì„ ìµœì†Œí™”í•˜ëŠ” ê²½ì œ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.' },
            { keyword: 'ê·¸ë¦°ë¦¬ëª¨ë¸ë§', description: 'ê±´ë¬¼ì„ ì—ë„ˆì§€ íš¨ìœ¨ì ìœ¼ë¡œ ê°œì¡°í•˜ì—¬ íƒ„ì†Œ ë°°ì¶œì„ ì¤„ì´ëŠ” ê²ƒì…ë‹ˆë‹¤.' },
            { keyword: 'ê¸°í›„ë‚œë¯¼', description: 'ê¸°í›„ ë³€í™”ë¡œ ì¸í•œ ìì—°ì¬í•´ë‚˜ í™˜ê²½ ì•…í™”ë¡œ ê³ í–¥ì„ ë– ë‚˜ì•¼ í•˜ëŠ” ì‚¬ëŒë“¤ì…ë‹ˆë‹¤.' },
            { keyword: 'ì—ë„ˆì§€ íš¨ìœ¨', description: 'ê°™ì€ ì—ë„ˆì§€ë¡œ ë” ë§ì€ ì¼ì„ í•˜ê±°ë‚˜, ì ì€ ì—ë„ˆì§€ë¡œ ê°™ì€ íš¨ê³¼ë¥¼ ë‚´ëŠ” ê²ƒì…ë‹ˆë‹¤.' },
            { keyword: 'ë„ì‹œì—´ì„¬', description: 'ë„ì‹œ ì§€ì—­ì´ ì£¼ë³€ë³´ë‹¤ ì˜¨ë„ê°€ ë†’ì•„ì§€ëŠ” í˜„ìƒìœ¼ë¡œ, ê¸°í›„ ë³€í™”ë¥¼ ê°€ì†í™”í•©ë‹ˆë‹¤.' },
            { keyword: 'ìŠµì§€ ë³´í˜¸', description: 'ìŠµì§€ëŠ” íƒ„ì†Œë¥¼ ì €ì¥í•˜ê³  ìƒë¬¼ë‹¤ì–‘ì„±ì„ ì§€í‚¤ëŠ” ì¤‘ìš”í•œ ìƒíƒœê³„ì…ë‹ˆë‹¤.' },
            { keyword: 'ì‚°ë¶ˆ ì˜ˆë°©', description: 'ê¸°í›„ ë³€í™”ë¡œ ì‚°ë¶ˆì´ ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜ˆë°©ê³¼ ëŒ€ì‘ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.' },
            { keyword: 'í•´ì–‘ ì“°ë ˆê¸°', description: 'ë°”ë‹¤ë¡œ í˜ëŸ¬ë“¤ì–´ê°„ í”Œë¼ìŠ¤í‹± ë“±ì˜ ì“°ë ˆê¸°ê°€ í•´ì–‘ ìƒíƒœê³„ë¥¼ íŒŒê´´í•©ë‹ˆë‹¤.' },
            { keyword: 'ì—…ì‚¬ì´í´ë§', description: 'ë²„ë ¤ì§€ëŠ” ë¬¼ê±´ì„ ìƒˆë¡­ê³  ê°€ì¹˜ ìˆëŠ” ì œí’ˆìœ¼ë¡œ ì¬íƒ„ìƒì‹œí‚¤ëŠ” ê²ƒì…ë‹ˆë‹¤.' },
            { keyword: 'íƒ„ì†Œ ë°œìêµ­', description: 'ê°œì¸ì´ë‚˜ ì¡°ì§ì´ í™œë™í•˜ë©´ì„œ ë°°ì¶œí•˜ëŠ” ì˜¨ì‹¤ê°€ìŠ¤ì˜ ì´ëŸ‰ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.' },
            { keyword: 'ë…¹ìƒ‰ ê±´ì¶•', description: 'í™˜ê²½ ì¹œí™”ì ì¸ ì¬ë£Œì™€ ê¸°ìˆ ì„ ì‚¬ìš©í•´ ì§€ì†ê°€ëŠ¥í•œ ê±´ë¬¼ì„ ì§“ëŠ” ê²ƒì…ë‹ˆë‹¤.' },
            { keyword: 'ì œë¡œ ì›¨ì´ìŠ¤íŠ¸', description: 'ì“°ë ˆê¸°ë¥¼ ìµœì†Œí™”í•˜ê³  ìì›ì„ ìˆœí™˜ì‹œí‚¤ëŠ” ìƒí™œ ë°©ì‹ì…ë‹ˆë‹¤.' },
            { keyword: 'ë¡œì»¬ í‘¸ë“œ', description: 'ì§€ì—­ì—ì„œ ìƒì‚°ëœ ì‹í’ˆì„ ì†Œë¹„í•˜ë©´ ìš´ì†¡ ê±°ë¦¬ê°€ ì¤„ì–´ íƒ„ì†Œ ë°°ì¶œì´ ê°ì†Œí•©ë‹ˆë‹¤.' },
            { keyword: 'ê¸°í›„ ì†Œì†¡', description: 'ì •ë¶€ë‚˜ ê¸°ì—…ì˜ ê¸°í›„ ëŒ€ì‘ ë¶€ì¡±ì— ëŒ€í•´ ë²•ì  ì±…ì„ì„ ë¬»ëŠ” ì†Œì†¡ì…ë‹ˆë‹¤.' },
            { keyword: 'íƒ„ì†Œ í¬ì§‘', description: 'ëŒ€ê¸° ì¤‘ì˜ ì´ì‚°í™”íƒ„ì†Œë¥¼ í¬ì§‘í•˜ì—¬ ì €ì¥í•˜ê±°ë‚˜ í™œìš©í•˜ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.' },
            { keyword: 'ìƒíƒœ ë³µì›', description: 'í›¼ì†ëœ ìì—° ìƒíƒœê³„ë¥¼ ì›ë˜ ìƒíƒœë¡œ ë˜ëŒë¦¬ëŠ” ì‘ì—…ì…ë‹ˆë‹¤.' },
            { keyword: 'ê¸°í›„ ì •ì˜', description: 'ê¸°í›„ ìœ„ê¸°ì˜ ì˜í–¥ì„ ê³µì •í•˜ê²Œ ë¶„ë‹´í•˜ê³ , ì·¨ì•½ ê³„ì¸µì„ ë³´í˜¸í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.' },
            { keyword: 'ë…¹ìƒ‰ ì „í™˜', description: 'í™”ì„ì—°ë£Œ ì¤‘ì‹¬ ê²½ì œì—ì„œ ì¹œí™˜ê²½ ê²½ì œë¡œ ì „í™˜í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤.' },
            { keyword: 'í™˜ê²½ êµìœ¡', description: 'í™˜ê²½ ë¬¸ì œë¥¼ ì´í•´í•˜ê³  ì‹¤ì²œí•  ìˆ˜ ìˆë„ë¡ êµìœ¡í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.' },
            { keyword: 'ìŠ¤ë§ˆíŠ¸ ê·¸ë¦¬ë“œ', description: 'ì „ë ¥ ìˆ˜ìš”ì™€ ê³µê¸‰ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ì§€ëŠ¥í˜• ì „ë ¥ë§ì…ë‹ˆë‹¤.' },
            { keyword: 'ë°”ì´ì˜¤ ì—ë„ˆì§€', description: 'ì‹ë¬¼ì´ë‚˜ ìœ ê¸°ë¬¼ì„ ì—ë„ˆì§€ì›ìœ¼ë¡œ í™œìš©í•˜ëŠ” ì¬ìƒ ê°€ëŠ¥ ì—ë„ˆì§€ì…ë‹ˆë‹¤.' },
            { keyword: 'íƒ„ì†Œ ì„¸', description: 'íƒ„ì†Œ ë°°ì¶œì— ì„¸ê¸ˆì„ ë¶€ê³¼í•˜ì—¬ ë°°ì¶œëŸ‰ì„ ì¤„ì´ë„ë¡ ìœ ë„í•˜ëŠ” ì •ì±…ì…ë‹ˆë‹¤.' },
            { keyword: 'ê¸°í›„ ì ì‘', description: 'ê¸°í›„ ë³€í™”ì˜ ì˜í–¥ì— ëŒ€ë¹„í•˜ê³  ì ì‘í•˜ëŠ” ì „ëµì…ë‹ˆë‹¤.' },
            { keyword: 'ì¹œí™˜ê²½ êµí†µ', description: 'ìì „ê±°, ì „ê¸°ì°¨, ëŒ€ì¤‘êµí†µ ë“± í™˜ê²½ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ ì ì€ êµí†µìˆ˜ë‹¨ì…ë‹ˆë‹¤.' },
            { keyword: 'ë…¹ìƒ‰ ì¼ìë¦¬', description: 'í™˜ê²½ ë³´í˜¸ì™€ ì§€ì†ê°€ëŠ¥ì„±ì— ê¸°ì—¬í•˜ëŠ” ì§ì—…ë“¤ì…ë‹ˆë‹¤.' },
            { keyword: 'ê¸°í›„ í˜‘ì•½', description: 'íŒŒë¦¬í˜‘ì • ë“± êµ­ì œì‚¬íšŒê°€ ê¸°í›„ ìœ„ê¸° ëŒ€ì‘ì„ ìœ„í•´ ë§ºì€ ì•½ì†ì…ë‹ˆë‹¤.' }
        ];

        // ============================================================
        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
        // ============================================================

        function seededRandom(seed) {
            let value = 0;
            for (let i = 0; i < seed.length; i++) {
                value = (value + seed.charCodeAt(i) * (i + 1)) % 2147483647;
            }
            
            return function() {
                value = (value * 16807) % 2147483647;
                return (value - 1) / 2147483646;
            };
        }

        function seededShuffle(array, seed) {
            const shuffled = [...array];
            const rng = seededRandom(seed);
            
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(rng() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            
            return shuffled;
        }

        function generateSeed() {
            return `${Math.random()}-${Date.now()}`;
        }

        function getCompletedLines(selected, size) {
            const lines = [];
            
            // ê°€ë¡œ ì¤„
            for (let row = 0; row < size; row++) {
                const lineIndices = [];
                for (let col = 0; col < size; col++) {
                    lineIndices.push(row * size + col);
                }
                if (lineIndices.every(i => selected.has(i))) {
                    lines.push(lineIndices);
                }
            }
            
            // ì„¸ë¡œ ì¤„
            for (let col = 0; col < size; col++) {
                const lineIndices = [];
                for (let row = 0; row < size; row++) {
                    lineIndices.push(row * size + col);
                }
                if (lineIndices.every(i => selected.has(i))) {
                    lines.push(lineIndices);
                }
            }
            
            // ëŒ€ê°ì„  (â†˜)
            const diag1 = [];
            for (let i = 0; i < size; i++) {
                diag1.push(i * size + i);
            }
            if (diag1.every(i => selected.has(i))) {
                lines.push(diag1);
            }
            
            // ëŒ€ê°ì„  (â†™)
            const diag2 = [];
            for (let i = 0; i < size; i++) {
                diag2.push(i * size + (size - 1 - i));
            }
            if (diag2.every(i => selected.has(i))) {
                lines.push(diag2);
            }
            
            return lines;
        }

        // ============================================================
        // ëª¨ë‘  ëª¨ë“œ
        // ============================================================

        const groupState = {
            level: 1,
            board: [],
            selected: new Set(),
            hasBingo: false,
            winningLines: [],
            allComplete: false
        };

        function initGroupMode() {
            const size = groupState.level + 2;
            const seed = generateSeed();
            const sourceArray = size === 3 ? PRACTICE_KEYWORDS : CLIMATE_KEYWORDS;
            const totalCells = size * size;
            
            // ë ˆë²¨ë³„ ê³ ì • ë‹¨ì–´ ì„¸íŠ¸, ëœë¤ ë°°ì—´
            const fixedWordSet = sourceArray.slice(0, totalCells);
            groupState.board = seededShuffle(fixedWordSet, seed);
            groupState.selected = new Set();
            groupState.hasBingo = false;
            groupState.winningLines = [];
            
            renderGroupBoard();
            updateGroupUI();
        }

        function renderGroupBoard() {
            const size = groupState.level + 2;
            const grid = document.getElementById('group-grid');
            grid.className = `bingo-grid grid-size-${size}`;
            grid.innerHTML = '';
            
            groupState.board.forEach((data, index) => {
                const tile = document.createElement('button');
                tile.className = 'tile';
                tile.textContent = data.keyword;
                
                if (groupState.selected.has(index)) {
                    tile.classList.add('selected');
                    const isWinning = groupState.winningLines.some(line => line.includes(index));
                    if (isWinning) {
                        tile.classList.add('winning');
                    }
                    tile.innerHTML += '<div class="checkmark">âœ“</div>';
                }
                
                tile.addEventListener('click', () => handleGroupTileClick(index, data));
                grid.appendChild(tile);
            });
        }

        function handleGroupTileClick(index, data) {
            if (groupState.allComplete) return;
            
            // í† ê¸€ ê¸°ëŠ¥
            if (groupState.selected.has(index)) {
                if (groupState.hasBingo) return; // ë¹™ê³  ì™„ì„± í›„ ì·¨ì†Œ ë¶ˆê°€
                groupState.selected.delete(index);
                updateGroupProgress();
                renderGroupBoard();
                return;
            }
            
            // ì„ íƒ
            groupState.selected.add(index);
            showKeywordModal(data);
            updateGroupProgress();
            renderGroupBoard();
            
            const size = groupState.level + 2;
            const completedLines = getCompletedLines(groupState.selected, size);
            
            if (completedLines.length >= REQUIRED_LINES && !groupState.hasBingo) {
                groupState.hasBingo = true;
                groupState.winningLines = completedLines;
                renderGroupBoard();
                updateGroupUI();
                
                setTimeout(() => {
                    if (groupState.level < 5) {
                        showLevelUpModal();
                    } else {
                        showFinalModal();
                    }
                }, 500);
            }
        }

        function updateGroupProgress() {
            const size = groupState.level + 2;
            const completedLines = getCompletedLines(groupState.selected, size);
            groupState.winningLines = completedLines;
            
            document.getElementById('group-progress').textContent = 
                `ì§„í–‰ë„: ${completedLines.length} / ${REQUIRED_LINES}`;
        }

        function updateGroupUI() {
            const levelNames = ['ì—°ìŠµ ë‹¨ê³„', 'ë ˆë²¨ 1', 'ë ˆë²¨ 2', 'ë ˆë²¨ 3', 'ë ˆë²¨ 4', 'ë ˆë²¨ 5'];
            const gridSizes = ['3Ã—3 ê·¸ë¦¬ë“œ', '4Ã—4 ê·¸ë¦¬ë“œ', '5Ã—5 ê·¸ë¦¬ë“œ', '6Ã—6 ê·¸ë¦¬ë“œ', '7Ã—7 ê·¸ë¦¬ë“œ'];
            
            document.getElementById('group-level-badge').textContent = levelNames[groupState.level - 1];
            
            // ë ˆë²¨ ì¸ë””ì¼€ì´í„°
            const indicators = document.getElementById('group-level-indicators');
            indicators.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const indicator = document.createElement('div');
                indicator.className = 'level-indicator';
                
                if (i < groupState.level) {
                    indicator.classList.add('complete');
                    indicator.textContent = 'âœ“';
                } else if (i === groupState.level) {
                    indicator.classList.add('current');
                    indicator.textContent = i;
                } else {
                    indicator.classList.add('pending');
                    indicator.textContent = i;
                }
                
                indicators.appendChild(indicator);
            }
            
            // ë¹™ê³  ë°°ë„ˆ
            document.getElementById('group-victory').classList.toggle('hidden', !groupState.hasBingo);
        }

        function showLevelUpModal() {
            const levelNames = ['', 'ì´ˆê¸‰ ë„ì „ì', 'ì¤‘ê¸‰ ë„ì „ì', 'ìƒê¸‰ ë„ì „ì', 'í™˜ê²½ ì „ë¬¸ê°€'];
            const nextLevel = groupState.level + 1;
            
            document.getElementById('result-title').textContent = 'ë ˆë²¨ í´ë¦¬ì–´!';
            document.getElementById('result-description').textContent = 
                `ì¶•í•˜í•©ë‹ˆë‹¤! ${levelNames[groupState.level]} ì¹­í˜¸ë¥¼ íšë“í–ˆìŠµë‹ˆë‹¤!\në‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì‹œê² ì–´ìš”?`;
            
            document.getElementById('result-modal').classList.add('show');
            
            document.getElementById('result-ok').onclick = () => {
                document.getElementById('result-modal').classList.remove('show');
                groupState.level = nextLevel;
                initGroupMode();
            };
        }

        function showFinalModal() {
            document.getElementById('result-title').textContent = 'í™˜ê²½ì§€í‚´ì´ ì¸ì¦!';
            document.getElementById('result-description').textContent = 
                'ğŸ‰ ëª¨ë“  ë ˆë²¨ì„ ì™„ë£Œí•˜ì…¨ìŠµë‹ˆë‹¤! ğŸ‰\në‹¹ì‹ ì€ ì´ì œ ì§„ì •í•œ ê¸°í›„ ìœ„ê¸° ëŒ€ì‘ ì „ë¬¸ê°€ì…ë‹ˆë‹¤!';
            
            groupState.allComplete = true;
            document.getElementById('result-modal').classList.add('show');
            
            document.getElementById('result-ok').onclick = () => {
                document.getElementById('result-modal').classList.remove('show');
            };
        }

        // ============================================================
        // í˜¼ìí•˜ê¸° ëª¨ë“œ
        // ============================================================

        const soloState = {
            size: 5,
            playerBoard: [],
            computerBoard: [],
            playerSelected: new Set(),
            computerSelected: new Set(),
            currentWord: null,
            gameStarted: false,
            gameOver: false
        };

        function initSoloMode() {
            const size = soloState.size;
            const totalCells = size * size;
            const sourceArray = size === 3 ? PRACTICE_KEYWORDS : CLIMATE_KEYWORDS;
            
            // ê° ë³´ë“œë§ˆë‹¤ ë‹¤ë¥¸ ë°°ì—´
            soloState.playerBoard = seededShuffle(sourceArray, generateSeed()).slice(0, totalCells);
            soloState.computerBoard = seededShuffle(sourceArray, generateSeed()).slice(0, totalCells);
            soloState.playerSelected = new Set();
            soloState.computerSelected = new Set();
            soloState.gameStarted = true;
            soloState.gameOver = false;
            
            renderSoloBoards();
            updateSoloUI();
        }

        function renderSoloBoards() {
            const playerGrid = document.getElementById('player-grid');
            const computerGrid = document.getElementById('computer-grid');
            
            playerGrid.className = `bingo-grid grid-size-${soloState.size}`;
            computerGrid.className = `bingo-grid grid-size-${soloState.size}`;
            
            playerGrid.innerHTML = '';
            computerGrid.innerHTML = '';
            
            // í”Œë ˆì´ì–´ ë³´ë“œ
            soloState.playerBoard.forEach((data, index) => {
                const tile = document.createElement('button');
                tile.className = 'tile';
                tile.textContent = data.keyword;
                
                if (soloState.playerSelected.has(index)) {
                    tile.classList.add('selected');
                    tile.innerHTML += '<div class="checkmark">âœ“</div>';
                }
                
                tile.addEventListener('click', () => showKeywordModal(data));
                playerGrid.appendChild(tile);
            });
            
            // ì»´í“¨í„° ë³´ë“œ
            soloState.computerBoard.forEach((data, index) => {
                const tile = document.createElement('button');
                tile.className = 'tile';
                tile.textContent = data.keyword;
                
                if (soloState.computerSelected.has(index)) {
                    tile.classList.add('selected');
                    tile.innerHTML += '<div class="checkmark">âœ“</div>';
                }
                
                tile.addEventListener('click', () => showKeywordModal(data));
                computerGrid.appendChild(tile);
            });
        }

        function drawWord() {
            if (!soloState.gameStarted || soloState.gameOver) {
                alert('ë¨¼ì € ìƒˆ ê²Œì„ì„ ì‹œì‘í•˜ì„¸ìš”!');
                return;
            }
            
            const size = soloState.size;
            const sourceArray = size === 3 ? PRACTICE_KEYWORDS : CLIMATE_KEYWORDS;
            const randomIndex = Math.floor(Math.random() * sourceArray.length);
            soloState.currentWord = sourceArray[randomIndex].keyword;
            
            // í”Œë ˆì´ì–´ ë³´ë“œ ì²´í¬
            soloState.playerBoard.forEach((data, index) => {
                if (data.keyword === soloState.currentWord && !soloState.playerSelected.has(index)) {
                    soloState.playerSelected.add(index);
                }
            });
            
            // ì»´í“¨í„° ë³´ë“œ ì²´í¬
            soloState.computerBoard.forEach((data, index) => {
                if (data.keyword === soloState.currentWord && !soloState.computerSelected.has(index)) {
                    soloState.computerSelected.add(index);
                }
            });
            
            renderSoloBoards();
            updateSoloUI();
            checkSoloWinner();
        }

        function checkSoloWinner() {
            const playerLines = getCompletedLines(soloState.playerSelected, soloState.size);
            const computerLines = getCompletedLines(soloState.computerSelected, soloState.size);
            
            if (playerLines.length >= REQUIRED_LINES && computerLines.length >= REQUIRED_LINES) {
                soloState.gameOver = true;
                showGameResult('ë¬´ìŠ¹ë¶€! ë™ì‹œì— ë¹™ê³ ë¥¼ ì™„ì„±í–ˆìŠµë‹ˆë‹¤!');
            } else if (playerLines.length >= REQUIRED_LINES) {
                soloState.gameOver = true;
                showGameResult('ìŠ¹ë¦¬! í”Œë ˆì´ì–´ê°€ ì´ê²¼ìŠµë‹ˆë‹¤! ğŸ‰');
            } else if (computerLines.length >= REQUIRED_LINES) {
                soloState.gameOver = true;
                showGameResult('íŒ¨ë°°! ì»´í“¨í„°ê°€ ì´ê²¼ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”!');
            }
        }

        function showGameResult(message) {
            document.getElementById('result-title').textContent = 'ê²Œì„ ì¢…ë£Œ';
            document.getElementById('result-description').textContent = message;
            document.getElementById('result-modal').classList.add('show');
            
            document.getElementById('result-ok').onclick = () => {
                document.getElementById('result-modal').classList.remove('show');
            };
        }

        function updateSoloUI() {
            const playerLines = getCompletedLines(soloState.playerSelected, soloState.size);
            const computerLines = getCompletedLines(soloState.computerSelected, soloState.size);
            
            document.getElementById('player-progress').textContent = `ì¤„: ${playerLines.length} / ${REQUIRED_LINES}`;
            document.getElementById('computer-progress').textContent = `ì¤„: ${computerLines.length} / ${REQUIRED_LINES}`;
            
            if (soloState.currentWord) {
                document.getElementById('solo-turn').textContent = `ì¶”ì²¨ ë‹¨ì–´: ${soloState.currentWord}`;
            } else if (soloState.gameStarted) {
                document.getElementById('solo-turn').textContent = 'ë‹¨ì–´ ì¶”ì²¨ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”';
            } else {
                document.getElementById('solo-turn').textContent = 'ê²Œì„ ì‹œì‘ ì „';
            }
        }

        // ============================================================
        // ëª¨ë‹¬
        // ============================================================

        function showKeywordModal(data) {
            document.getElementById('keyword-title').textContent = data.keyword;
            document.getElementById('keyword-description').textContent = data.description;
            document.getElementById('keyword-modal').classList.add('show');
        }

        function hideKeywordModal() {
            document.getElementById('keyword-modal').classList.remove('show');
        }

        // ============================================================
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        // ============================================================

        // íƒ­ ì „í™˜
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', () => {
                const mode = button.dataset.mode;
                
                document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
                button.classList.add('active');
                
                if (mode === 'group') {
                    document.getElementById('group-mode').classList.remove('hidden');
                    document.getElementById('solo-mode').classList.add('hidden');
                } else {
                    document.getElementById('group-mode').classList.add('hidden');
                    document.getElementById('solo-mode').classList.remove('hidden');
                }
            });
        });

        // ëª¨ë‘  ëª¨ë“œ ë¦¬ì…‹
        document.getElementById('group-reset').addEventListener('click', () => {
            groupState.level = 1;
            groupState.allComplete = false;
            initGroupMode();
        });

        // í˜¼ìí•˜ê¸° ê·¸ë¦¬ë“œ ì„ íƒ
        document.querySelectorAll('.grid-option').forEach(button => {
            button.addEventListener('click', () => {
                const size = parseInt(button.dataset.size);
                soloState.size = size;
                soloState.gameStarted = false;
                
                document.querySelectorAll('.grid-option').forEach(b => b.classList.remove('active'));
                button.classList.add('active');
                
                document.getElementById('solo-turn').textContent = 'ìƒˆ ê²Œì„ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹œì‘í•˜ì„¸ìš”';
            });
        });

        // í˜¼ìí•˜ê¸° ë²„íŠ¼
        document.getElementById('solo-draw').addEventListener('click', drawWord);
        document.getElementById('solo-reset').addEventListener('click', initSoloMode);

        // ëª¨ë‹¬ ë‹«ê¸°
        document.getElementById('keyword-modal-close').addEventListener('click', hideKeywordModal);
        document.getElementById('keyword-ok').addEventListener('click', hideKeywordModal);
        document.getElementById('result-modal-close').addEventListener('click', () => {
            document.getElementById('result-modal').classList.remove('show');
        });

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('show');
                }
            });
        });

        // ============================================================
        // ì´ˆê¸°í™”
        // ============================================================

        initGroupMode();
    </script>
</body>
</html>